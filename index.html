<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Waterwheel by acquia</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/acquia/waterwheel-swift">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/acquia/waterwheel-swift/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/acquia/waterwheel-swift/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>

        <p><img src="https://raw.githubusercontent.com/acquia/waterwheel-swift/assets/waterwheel.png" alt="Waterwheel - Drupal SDK"></p>

<p></p><p align="right">
<a href=""><img src="https://img.shields.io/badge/Drupal-8-blue.svg" alt="Drupal version"></a>
<a href=""><img src="https://img.shields.io/cocoapods/v/waterwheel.svg?maxAge=86000" alt="CocoaPods"></a>
<a href="#"><img src="https://img.shields.io/badge/platform-iOS%20%7C%20macOS%20%7C%20tvOS%20%7C%20watchOS-green.svg" alt="CocoaPods"></a>
<br clear="all"></p>

<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h2>

<p>The Waterwheel Swift SDK is a set of methods and classes making it easier to use Drupal with Swift on any Apple powered device (iOS, macOS, watchOS, tvOS). It combines the most used commands to communicate with Drupal, gives you commons Views and tasks for Drupal apps, and handles all session management for you. </p>

<p>The framework is tracking Drupal 8. As new features come out in 8, they will be added ASAP. Since Drupal 7 and Drupal 8 are completely different in terms of API's, you will need to use the correct version of waterwheel depending on your Drupal version.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>iOS 8.0+ / Mac OS X 10.9+ / tvOS 9.0+ / watchOS 2.0+</li>
<li>Xcode 7.3+</li>
</ul>

<table>
<thead>
<tr>
<th align="center">waterwheel version</th>
<th align="center">Drupal version</th>
<th align="center">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://github.com/kylebrowning/waterwheel-swift/tree/4.x">4.x</a></td>
<td align="center">Drupal 8 (Swift)</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><a href="https://github.com/kylebrowning/waterwheel-swift/tree/3.x">3.x</a></td>
<td align="center">Drupal 8 (Obj-C)</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><a href="https://github.com/kylebrowning/waterwheel-swift/tree/2.x">2.x</a></td>
<td align="center">Drupal 6-7 (Obj-C)</td>
<td align="center">Requires <a href="http://drupal.org/project/services">Services</a> module</td>
</tr>
</tbody>
</table>

<h2>
<a id="features-in-4x" class="anchor" href="#features-in-4x" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features in 4.x</h2>

<ul>
<li>[x] Session management</li>
<li>[x] Basic Auth</li>
<li>[x] Cookie Auth</li>
<li>[x] Entity CRUD</li>
<li>[ ] True entities</li>
<li>[ ] Local caching</li>
<li>[ ] LoginViewController</li>
<li>[ ] SignupViewController</li>
<li>[ ] LogoutButton</li>
<li>[ ] Views integration into Table Views</li>
</ul>

<h2>
<a id="communication" class="anchor" href="#communication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Communication</h2>

<ul>
<li>If you <strong>need help</strong>, use <a href="http://stackoverflow.com/questions/tagged/waterwheel-swift">Stack Overflow</a>. (Tag 'waterwheel-swift')</li>
<li>If you <strong>found a bug</strong>, open an issue.</li>
<li>If you <strong>have a feature request</strong>, open an issue.</li>
<li>If you <strong>want to contribute</strong>, submit a pull request.</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Waterwheel offers two installations paths. Pick your poison!</p>

<h3>
<a id="cocoapods" class="anchor" href="#cocoapods" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CocoaPods</h3>

<p><a href="http://cocoapods.org">CocoaPods</a> is a dependency manager for Cocoa projects. You can install it with the following command:</p>

<div class="highlight highlight-source-shell"><pre>$ gem install cocoapods</pre></div>

<blockquote>
<p>CocoaPods 0.39.0+ is required to build Waterwheel 3.0.0+.</p>
</blockquote>

<p>To integrate Waterwheel into your Xcode project using CocoaPods, specify it in your <code>Podfile</code>:</p>

<div class="highlight highlight-source-ruby"><pre>source <span class="pl-s"><span class="pl-pds">'</span>https://github.com/CocoaPods/Specs.git<span class="pl-pds">'</span></span>
platform <span class="pl-c1">:ios</span>, <span class="pl-s"><span class="pl-pds">'</span>9.0<span class="pl-pds">'</span></span>
use_frameworks!

target <span class="pl-s"><span class="pl-pds">'</span>&lt;Your Target Name&gt;<span class="pl-pds">'</span></span> <span class="pl-k">do</span>
    pod <span class="pl-s"><span class="pl-pds">'</span>waterwheel<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>~&gt; 4.2<span class="pl-pds">'</span></span>
<span class="pl-k">end</span></pre></div>

<p>Then, run the following command:</p>

<div class="highlight highlight-source-shell"><pre>$ pod install</pre></div>

<h3>
<a id="carthage" class="anchor" href="#carthage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>

<div class="highlight highlight-source-shell"><pre>$ brew update
$ brew install carthage</pre></div>

<p>To integrate Waterwheel into your Xcode project using Carthage, specify it in your <code>Cartfile</code>:</p>

<pre lang="ogdl"><code>github "acquia/waterwheel-swift" ~&gt; 4.2
</code></pre>

<p>Run <code>carthage update</code> to build the framework and drag the built <code>waterwheel.framework</code> into your Xcode project.</p>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h2>

<ol>
<li><code>import waterwheel</code></li>
<li>(Optional) If you're not using HTTPS you will have to enable the <a href="http://stackoverflow.com/questions/31254725/transport-security-has-blocked-a-cleartext-http">NSAppTransportSecurity</a>
</li>
</ol>

<h2>
<a id="using-waterwheel" class="anchor" href="#using-waterwheel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using Waterwheel</h2>

<p>The code below will give you access to the baseline of features for communicating to a Drupal site.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">// Create an instance to use.</span>
<span class="pl-k">let</span> waterwheelEm <span class="pl-k">=</span> waterwheel<span class="pl-k">.</span>sharedInstance
<span class="pl-c">// Sets the URL to your Drupal site.</span>
waterwheelEm<span class="pl-k">.</span>URL <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>http://drupal-8-dev.dd<span class="pl-pds">"</span></span></pre></div>

<p>The code below will set up Basic Authentication for each API call.</p>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">// Sets HTTPS Basic Authentication Credentials.</span>
waterwheelEm<span class="pl-k">.</span>setBasicAuthUsernameAndPassword(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, password: <span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="entity-requests" class="anchor" href="#entity-requests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Entity Requests</h3>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">// We need an entity manager instance</span>
<span class="pl-k">let</span> em <span class="pl-k">=</span> waterwheelEntity()</pre></div>

<h3>
<a id="get" class="anchor" href="#get" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get</h3>

<div class="highlight highlight-source-swift"><pre><span class="pl-k">let</span> em <span class="pl-k">=</span> waterwheelEntity()

<span class="pl-c">//Get Node 36</span>
em<span class="pl-k">.</span><span class="pl-k">get</span>(<span class="pl-s"><span class="pl-pds">"</span>node<span class="pl-pds">"</span></span>, entityId: <span class="pl-s"><span class="pl-pds">"</span>36<span class="pl-pds">"</span></span>) { (success, response, json, error) <span class="pl-k">in</span>
    <span class="pl-k">if</span> (success) {
        <span class="pl-c1">print</span>(json)
    } <span class="pl-k">else</span> {
        <span class="pl-c1">print</span>(error)
    }
}</pre></div>

<h3>
<a id="createpost" class="anchor" href="#createpost" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Create/post</h3>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">//build our node body</span>
<span class="pl-k">let</span> body <span class="pl-k">=</span> [
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: [
        [
            <span class="pl-s"><span class="pl-pds">"</span>target_id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>article<span class="pl-pds">"</span></span>
        ]
    ],
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>: [
        [
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>
        ]
    ],
    <span class="pl-s"><span class="pl-pds">"</span>body<span class="pl-pds">"</span></span>: [
        [
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>How are you?<span class="pl-pds">"</span></span>
        ]
    ]
]

<span class="pl-c">//Create a new node.</span>
em<span class="pl-k">.</span>post(<span class="pl-s"><span class="pl-pds">"</span>node<span class="pl-pds">"</span></span>, params: body) { (success, response, json, error) <span class="pl-k">in</span>
    <span class="pl-k">if</span> (success) {
        <span class="pl-c1">print</span>(response)
    } <span class="pl-k">else</span> {
        <span class="pl-c1">print</span>(error)
    }
}</pre></div>

<h3>
<a id="updateputpatch" class="anchor" href="#updateputpatch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update/Put/PATCH</h3>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">//Update an existing node</span>
em<span class="pl-k">.</span>patch(<span class="pl-s"><span class="pl-pds">"</span>node<span class="pl-pds">"</span></span>, entityId: <span class="pl-s"><span class="pl-pds">"</span>36<span class="pl-pds">"</span></span>, params: body) { (success, response, json, error) <span class="pl-k">in</span>
    <span class="pl-k">if</span> (success) {
        <span class="pl-c">//Extra error checking, but its not needed</span>
        <span class="pl-k">if</span> (response<span class="pl-k">!.</span>response?<span class="pl-k">.</span>statusCode <span class="pl-k">==</span> <span class="pl-c1">201</span>) {
            <span class="pl-c1">print</span>(json)
        }
    } <span class="pl-k">else</span> {
        <span class="pl-c1">print</span>(error)
    }
}</pre></div>

<h3>
<a id="delete" class="anchor" href="#delete" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete</h3>

<div class="highlight highlight-source-swift"><pre><span class="pl-c">//Delete an existing node</span>
em<span class="pl-k">.</span>delete(<span class="pl-s"><span class="pl-pds">"</span>node<span class="pl-pds">"</span></span>, entityId: <span class="pl-s"><span class="pl-pds">"</span>26<span class="pl-pds">"</span></span>) { (success, response, json, error) <span class="pl-k">in</span>
    <span class="pl-k">if</span> (success) {
        <span class="pl-c1">print</span>(response)
    } <span class="pl-k">else</span> {
        <span class="pl-c1">print</span>(error)
    }
}</pre></div>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-3203637-9");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
